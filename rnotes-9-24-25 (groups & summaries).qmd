---
title: "R Notes 9/24/25"
author: "Preye Indiamaowei"
format: html
embed-resources: true
---

```{r}
#| label: setup
#| message: false

library(tidyverse)
library(dplyr)
```

## More about `group_by` and `summarize`

Let's look at `ggplot2::diamonds`, and get some group summaries. Let's start by glimpsing the set and looking at the help file (in console).

```{r}
glimpse(diamonds)

```

How do diamond prices vary by cut and color?

```{r}
diamonds %>% 
  group_by(cut) %>% 
  summarize(avg_price = mean(price),
            avg_carat = mean(carat),
            count = n()) # add counts
```

## Great tables

We'll use `gt::gt` to make tables. All we do is pass the data set to this function.

```{r}
diamonds %>% 
  group_by(cut) %>% 
  summarize(avg_price = mean(price),
            avg_carat = mean(carat),
            count = n()) %>% 
  gt::gt()
```
The `gt` package allows for a **lot** of customization, which we won't cover. Start with a `?gt`.

## Counting Observations

We used `n()` in the last examples. If all you want is counts, there's an easy shortcut.

```{r}
diamonds %>% 
  count(cut) %>% 
  gt::gt()
```

